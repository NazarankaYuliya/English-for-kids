(()=>{"use strict";const t=[["Action A","Action B","Animal A","Animal B","Clothes","Emotions","Food","Transport"],[{word:"Cry",translation:"Плакать",image:"img/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"Dance",translation:"Танцевать",image:"img/dance.jpeg",audioSrc:"audio/dance.mp3"},{word:"Dive",translation:"Нырять",image:"img/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"Draw",translation:"Рисовать",image:"img/draw.jpeg",audioSrc:"audio/draw.mp3"},{word:"Fish",translation:"Ловить рыбу",image:"img/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"Fly",translation:"Летать",image:"img/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"Hug",translation:"Обнимать",image:"img/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"Jump",translation:"Прыгать",image:"img/jump.jpg",audioSrc:"audio/jump.mp3"}],[{word:"Open",translation:"Открывать",image:"img/open.jpg",audioSrc:"audio/open.mp3"},{word:"Play",translation:"Играть",image:"img/play.jpg",audioSrc:"audio/play.mp3"},{word:"Point",translation:"Указывать",image:"img/point.jpg",audioSrc:"audio/point.mp3"},{word:"Ride",translation:"Ездить",image:"img/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"Run",translation:"Бегать",image:"img/run.jpg",audioSrc:"audio/run.mp3"},{word:"Sing",translation:"Петь",image:"img/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"Skip",translation:"Пропускать, прыгать",image:"img/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"Swim",translation:"Плавать",image:"img/swim.jpeg",audioSrc:"audio/swim.mp3"}],[{word:"Cat",translation:"Кот",image:"img/cat.jpeg",audioSrc:"audio/cat.mp3"},{word:"Chick",translation:"Цыплёнок",image:"img/chick.jpeg",audioSrc:"audio/chick.mp3"},{word:"Chicken",translation:"Курица",image:"img/chicken.jpeg",audioSrc:"audio/chicken.mp3"},{word:"Dog",translation:"Собака",image:"img/dog.jpeg",audioSrc:"audio/dog.mp3"},{word:"Horse",translation:"Лошадь",image:"img/horse.jpeg",audioSrc:"audio/horse.mp3"},{word:"Pig",translation:"Свинья",image:"img/pig.jpeg",audioSrc:"audio/pig.mp3"},{word:"Rabbit",translation:"Кролик",image:"img/rabbit.jpeg",audioSrc:"audio/rabbit.mp3"},{word:"Cow",translation:"Корова",image:"img/cow.jpeg",audioSrc:"audio/cow.mp3"}],[{word:"Bird",translation:"Птица",image:"img/bird.jpeg",audioSrc:"audio/bird.mp3"},{word:"Fish",translation:"Рыба",image:"img/fish.jpeg",audioSrc:"audio/fish.mp3"},{word:"Frog",translation:"Жаба",image:"img/frog.jpeg",audioSrc:"audio/frog.mp3"},{word:"Giraffe",translation:"Жираф",image:"img/giraffe.jpeg",audioSrc:"audio/giraffe.mp3"},{word:"Lion",translation:"Лев",image:"img/lion.jpeg",audioSrc:"audio/lion.mp3"},{word:"Mouse",translation:"Мышь",image:"img/mouse.jpeg",audioSrc:"audio/mouse.mp3"},{word:"Turtle",translation:"Черепаха",image:"img/turtle.jpeg",audioSrc:"audio/turtle.mp3"},{word:"Dolphin",translation:"Дельфин",image:"img/dolphin.jpeg",audioSrc:"audio/dolphin.mp3"}],[{word:"Skirt",translation:"Юбка",image:"img/skirt.jpeg",audioSrc:"audio/skirt.mp3"},{word:"Pants",translation:"Брюки",image:"img/pants.jpeg",audioSrc:"audio/pants.mp3"},{word:"Sweatshirt",translation:"Кофта, толстовка",image:"img/sweatshirt.jpeg",audioSrc:"audio/sweatshirt.mp3"},{word:"Dress",translation:"Платье",image:"img/dress.jpeg",audioSrc:"audio/dress.mp3"},{word:"Sneakers",translation:"Кроссовки",image:"img/sneakers.jpeg",audioSrc:"audio/sneakers.mp3"},{word:"Shirt",translation:"Рубашка",image:"img/shirt.jpeg",audioSrc:"audio/shirt.mp3"},{word:"Socks",translation:"Носки",image:"img/socks.jpeg",audioSrc:"audio/socks.mp3"},{word:"Hat",translation:"Шапка",image:"img/hat.jpeg",audioSrc:"audio/hat.mp3"}],[{word:"Sad",translation:"Грустный",image:"img/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"Angry",translation:"Сердитый",image:"img/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"Happy",translation:"Счастливый",image:"img/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"Tired",translation:"Уставший",image:"img/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"Surprised",translation:"Удивлённый",image:"img/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"Scared",translation:"Испуганный",image:"img/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"Smile",translation:"Улыбка",image:"img/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"Laugh",translation:"смех",image:"img/laugh.jpg",audioSrc:"audio/laugh.mp3"}],[{word:"Ice cream",translation:"Мороженное",image:"img/ice-cream.jpeg",audioSrc:"audio/ice-cream.mp3"},{word:"Banana",translation:"Банан",image:"img/banana.jpeg",audioSrc:"audio/banana.mp3"},{word:"Burger",translation:"Бургер",image:"img/burger.jpeg",audioSrc:"audio/burger.mp3"},{word:"Pizza",translation:"Пицца",image:"img/pizza.jpeg",audioSrc:"audio/pizza.mp3"},{word:"Apple",translation:"Яблоко",image:"img/apple.jpeg",audioSrc:"audio/apple.mp3"},{word:"Salad",translation:"Салат",image:"img/salad.jpeg",audioSrc:"audio/salad.mp3"},{word:"Cake",translation:"Торт",image:"img/cake.jpeg",audioSrc:"audio/cake.mp3"},{word:"Cheese",translation:"Сыр",image:"img/cheese.jpeg",audioSrc:"audio/cheese.mp3"}],[{word:"Car",translation:"Машина",image:"img/car.jpeg",audioSrc:"audio/car.mp3"},{word:"Bus",translation:"Автобус",image:"img/bus.jpeg",audioSrc:"audio/bus.mp3"},{word:"Train",translation:"Поезд",image:"img/train.jpeg",audioSrc:"audio/train.mp3"},{word:"Bicycle",translation:"Велосипед",image:"img/bicycle.jpeg",audioSrc:"audio/bicycle.mp3"},{word:"Boat",translation:"Лодка",image:"img/boat.jpeg",audioSrc:"audio/boat.mp3"},{word:"Airplane",translation:"Самолет",image:"img/airplane.jpeg",audioSrc:"audio/airplane.mp3"},{word:"Helicopter",translation:"Вертолет",image:"img/helicopter.jpeg",audioSrc:"audio/helicopter.mp3"},{word:"Motorcycle",translation:"Мотоцикл",image:"img/motorcycle.jpeg",audioSrc:"audio/motorcycle.mp3"}]],e={};function a(){localStorage.setItem("statistics",JSON.stringify(e))}JSON.parse(localStorage.getItem("statistics"));class i{constructor(t,e,a){this.category=t,this.word=e,this.translation=a,this.clicks=0,this.guesses=0,this.mistakes=0}}function o(){for(let a=1;a<t.length;a++)t[a].forEach((t=>{const o=new i(T[a-1],t.word,t.translation);e[o.word]=o}))}function n(){q.textContent="Statistics",$.innerHTML="";const t=document.createElement("div");t.classList.add("stat"),$.append(t);const e=document.createElement("div");e.classList.add("stat-buttons"),t.append(e);const a=document.createElement("button");a.classList.add("stat-repeat","btn","btn-info"),a.textContent="Repeat difficult words";const i=document.createElement("button");i.classList.add("stat-reset","btn","btn-info"),i.textContent="Reset",i.addEventListener("click",r),e.append(a),e.append(i);const o=document.createElement("table");o.classList.add("table"),t.append(o);const n=document.createElement("thead");o.append(n),n.innerHTML="\n  <tr>\n    <th>Word</th>\n    <th>Clicked</th>\n    <th>Translation</th>\n    <th>Correct</th>\n    <th>Wrong</th>\n    <th>%</th>\n    <th>Category</th>\n  </tr>";const d=document.createElement("tbody");o.append(d),function(){const t=JSON.parse(localStorage.getItem("statistics"))||{};console.log(t);for(const e in t){const a=t[e],i=document.createElement("tr");let o=document.createElement("td");o.textContent=a.word,i.append(o),o=document.createElement("td"),o.textContent=a.clicks,i.append(o),o=document.createElement("td"),o.textContent=a.translation,i.append(o),o=document.createElement("td"),o.textContent=a.guesses,i.append(o),o=document.createElement("td"),o.textContent=a.mistakes,i.append(o),o=document.createElement("td"),o.textContent=isNaN(100*a.guesses/(a.mistakes+a.guesses))?"0":Math.ceil(100*a.guesses/(a.mistakes+a.guesses)),i.append(o),o=document.createElement("td"),o.textContent=a.category,i.append(o),document.querySelector("tbody").append(i)}}()}function r(){for(const t in e)e[t].clicks=0,e[t].guesses=0,e[t].mistakes=0;o(),a(),n()}const d=new Audio("./data/audio/error.mp3"),s=new Audio("./data/audio/correct.mp3"),c=new Audio("./data/audio/success.mp3"),m=new Audio("./data/audio/failure.mp3"),g="dist/data/img/";let u=0,l=0,p=0;const h=[],S=[],w=8;function j(){!function(){u=0,l=0,p=0,h.length=0,S.length=0,x.innerHTML="";Array.from($.querySelectorAll(".card")).sort((()=>Math.random()-.5)).forEach((t=>{const e=t.querySelector("audio").src,a=t.querySelector(".front h4").textContent;h.push(e),S.push(a),t.addEventListener("click",y)})),f()}();let t=!0;t?(C.innerText="Repeat",C.removeEventListener("click",j),C.addEventListener("click",k),t=!1):k()}function f(){new Audio(h[u]).play()}function y(t){const i=t.currentTarget,o=i.querySelector(".front h4").textContent;o===S[u]?(s.play(),i.classList.add("inactive"),i.removeEventListener("click",y),e[o].guesses++,a(),u++,l++,document.createElement("span").classList.add("star-win"),v("star-win"),u<h.length?f():(0===p?(c.play(),$.innerHTML=`\n        <div class="success">\n            <img src="${g}success.jpg">\n            <p>Awesome job! You guessed all the words!</p>\n        </div>`):(m.play(),$.innerHTML=`\n        <div class="failure">\n            <img src="${g}failure.jpg">\n            <p> You made ${p} mistakes.</p>\n        </div>`),setTimeout((()=>{B()}),3e3))):(d.play(),p++,e[o].mistakes++,a(),document.createElement("span").classList.add("star"),v("star"))}function v(t){const e=document.createElement("span");e.classList.add(t),x.children.length>=w&&x.removeChild(x.children[0]),x.append(e)}function k(){f()}let E=!1;const b=document.querySelector(".mode"),L=document.querySelector(".switch-input"),C=document.createElement("button");C.className="start-game";const x=document.createElement("div");x.className="stars";const A=document.createElement("div");A.className="game-container",A.append(x,C);const $=document.querySelector(".page-content"),T=t[0],q=document.querySelector(".page-title"),M="./data/";class H{constructor(e,a){this.id=a+1,this.categoryName=e,this.image=`${M}${t[this.id][0].image}`}}class N{constructor(t,e,a,i){this.word=t,this.translation=e,this.image=`${M}${a}`,this.audioSrc=`${M}${i}`}}function B(){$.innerHTML="",$.id=0,q.textContent="Main",T.forEach(((e,a)=>{e=new H(T[a],a);const i=document.createElement("div");i.className="category-card",i.id=e.id,i.insertAdjacentHTML("afterbegin",`\n        <div class='category-image'>\n            <img src='${e.image}' alt='${e.categoryName}'>\n         </div>\n         <div class='category-description'>\n            <h4>${e.categoryName}</h4>\n            <h5>${t[e.id].length} cards</h5>\n         </div>\n        `),$.append(i)}))}function z(e){$.innerHTML="",$.id=e,q.textContent=T[e-1],t[e].forEach(((t,e)=>{t=new N(t.word,t.translation,t.image,t.audioSrc);const a=document.createElement("div");a.className="card",a.id=e+1,a.insertAdjacentHTML("afterbegin",`\n        <div class="front">\n            <div class="card-image">\n                <img src='${t.image}' alt='${t.word}'>\n            </div>\n            <div class="card-description">\n                <h4>${t.word}</h4>\n                <img class='rotate' src='./data/img/rotate.svg' alt='rotate' width='20px'>\n            </div>\n        </div>\n        <div class="back">\n            <div class="card-image">\n                <img src='${t.image}' alt='${t.word}'>\n            </div>\n            <div class="card-description">\n                <h4>${t.translation}</h4>\n            </div>\n        </div>\n        <audio class='card-audio audio${a.id}' src='${t.audioSrc}'></audio>\n    `),$.append(a)})),E&&function(){x.innerHTML="",$.prepend(A);const t=$.querySelectorAll(".card-image"),e=$.querySelectorAll(".card-description"),a=$.querySelectorAll(".rotate");t.forEach((t=>t.style.height="100%")),e.forEach((t=>t.style.display="none")),a.forEach((t=>t.style.display="none")),C.textContent="Start game",C.removeEventListener("click",k),C.addEventListener("click",j)}()}function D(){const t=event.target.closest(".card"),e=event.target.closest(".front"),a=e.nextElementSibling;e.style.transform="rotateY(-180deg)",a.style.transform="perspective(800px) rotateY(0deg)",t.addEventListener("mouseleave",(function(){e.style.transform="rotateY(0deg)",a.style.transform="perspective(800px) rotateY(-180deg)"}),{once:!0})}document.addEventListener("click",(function(t){if(t.target.closest(".category-card")&&z(t.target.closest(".category-card").id),t.target.closest(".front")&&!E){!function(t){const e=t.target.closest(".card"),a=document.querySelector(`.audio${e.id}`).src;new Audio(a).play()}(t);const i=t.target.closest(".front").querySelector("h4").textContent;e[i].clicks++,a()}t.target.closest(".rotate")&&D(),t.target.closest(".header-title")&&B(),t.target.closest(".switch-input")&&(E=L.checked,b.textContent=E?"Play":"Train",$.id>0&&z($.id))}));const P=document.querySelector(".menu");function R(){P.classList.toggle("menu-active")}B(),function(){const t=document.querySelector(".menu-list"),e=document.querySelector(".burger-icon");e.src="./data/img/burger-icon.png";const a=document.createElement("li");a.textContent="Main page",a.classList.add("menu_item_main","menu-item"),t.append(a),T.forEach((e=>{const a=document.createElement("li");a.className="menu-item",a.textContent=e,t.append(a)}));const i=document.createElement("li");i.textContent="Statistics",i.classList.add("menu_item_stat","menu-item"),t.append(i),P.addEventListener("click",(t=>{const e=t.target.closest("li").textContent;switch(e){case"Main page":B(),R();break;case"Statistics":n(),o(),R();break;default:z(T.indexOf(e)+1),R()}})),e.addEventListener("click",R)}(),o()})();